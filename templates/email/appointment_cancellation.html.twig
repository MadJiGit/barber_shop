{% extends 'email/base.html.twig' %}

{% block body %}
    <h1 style="color: #dc3545; margin-bottom: 20px;">‚ùå –í–∞—à–∏—è—Ç —á–∞—Å –µ –æ—Ç–º–µ–Ω–µ–Ω</h1>

    <p style="font-size: 16px; line-height: 1.6; color: #333;">
        –ó–¥—Ä–∞–≤–µ–π—Ç–µ{{ client.firstName ? ', ' ~ client.firstName : '' }},
    </p>

    <p style="font-size: 16px; line-height: 1.6; color: #333;">
        {% if cancelledBy == 'barber' %}
            –°—ä–∂–∞–ª—è–≤–∞–º–µ, –Ω–æ –≤–∞—à–∏—è—Ç —á–∞—Å –≤ <strong>Barber Shop</strong> –±–µ—à–µ –æ—Ç–º–µ–Ω–µ–Ω –æ—Ç –±—Ä—ä—Å–Ω–∞—Ä—è.
        {% elseif cancelledBy == 'manager' or cancelledBy == 'admin' %}
            –í–∞—à–∏—è—Ç —á–∞—Å –≤ <strong>Barber Shop</strong> –±–µ—à–µ –æ—Ç–º–µ–Ω–µ–Ω –æ—Ç –º–µ–Ω–∏–¥–∂—ä—Ä–∞/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
        {% else %}
            –í–∞—à–∏—è—Ç —á–∞—Å –≤ <strong>Barber Shop</strong> –±–µ—à–µ –æ—Ç–º–µ–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ.
        {% endif %}
    </p>

    <div style="background-color: #f8f9fa; border-radius: 8px; padding: 20px; margin: 25px 0;">
        <h3 style="color: #dc3545; margin-top: 0; margin-bottom: 15px; border-bottom: 2px solid #dc3545; padding-bottom: 10px;">
            üìÖ –î–µ—Ç–∞–π–ª–∏ –∑–∞ –æ—Ç–º–µ–Ω–µ–Ω–∏—è —á–∞—Å
        </h3>

        <table style="width: 100%; font-size: 15px; line-height: 1.8;">
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>üóìÔ∏è –î–∞—Ç–∞:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.date|date('d.m.Y') }} ({% set dayNames = {0: '–ù–µ–¥–µ–ª—è', 1: '–ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫', 2: '–í—Ç–æ—Ä–Ω–∏–∫', 3: '–°—Ä—è–¥–∞', 4: '–ß–µ—Ç–≤—ä—Ä—Ç—ä–∫', 5: '–ü–µ—Ç—ä–∫', 6: '–°—ä–±–æ—Ç–∞'} %}{{ dayNames[appointment.date|date('w')] }})</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>üïê –ß–∞—Å:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.date|date('H:i') }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>üíà –ë—Ä—ä—Å–Ω–∞—Ä:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ barber.firstName }} {{ barber.lastName }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>‚úÇÔ∏è –£—Å–ª—É–≥–∞:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.procedureType.type }}</td>
            </tr>
        </table>
    </div>

    {% if cancelledBy == 'barber' or cancelledBy == 'manager' or cancelledBy == 'admin' %}
        <div style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 25px 0;">
            <p style="margin: 0; color: #856404; font-size: 14px; line-height: 1.6;">
                <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –¢–æ–∑–∏ —á–∞—Å –±–µ—à–µ –æ—Ç–º–µ–Ω–µ–Ω –æ—Ç {{ cancelledBy == 'barber' ? '–±—Ä—ä—Å–Ω–∞—Ä—è' : '–º–µ–Ω–∏–¥–∂—ä—Ä–∞' }}.
                –ê–∫–æ –∏–º–∞—Ç–µ –≤—ä–ø—Ä–æ—Å–∏ –∏–ª–∏ –∂–µ–ª–∞–µ—Ç–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞—Ç–µ –¥—Ä—É–≥ —á–∞—Å, –º–æ–ª—è —Å–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –Ω–∞—Å.
            </p>
        </div>
    {% endif %}

    <div style="background-color: #d1ecf1; border-left: 4px solid #0c5460; padding: 15px; margin: 25px 0;">
        <p style="margin: 0 0 10px 0; color: #0c5460; font-size: 14px; line-height: 1.6;">
            <strong>üí° –ò—Å–∫–∞—Ç–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞—Ç–µ –¥—Ä—É–≥ —á–∞—Å?</strong>
        </p>
        <p style="margin: 0; color: #0c5460; font-size: 14px;">
            –õ–µ—Å–Ω–æ –º–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –Ω–æ–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è –æ—Ç –Ω–∞—à–∏—è —Å–∞–π—Ç.
        </p>
    </div>

    <div style="text-align: center; margin: 30px 0;">
        <a href="{{ url('appointment_book', {id: client.id}) }}"
           style="display: inline-block; padding: 15px 40px; background-color: #d4a024; color: #ffffff; text-decoration: none; border-radius: 5px; font-size: 16px; font-weight: bold;">
            –†–µ–∑–µ—Ä–≤–∏—Ä–∞–π –Ω–æ–≤ —á–∞—Å
        </a>
    </div>

    <p style="font-size: 14px; line-height: 1.6; color: #666; margin-top: 30px;">
        –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ—Ç–æ!
    </p>

    <p style="font-size: 14px; line-height: 1.6; color: #666; margin-top: 10px;">
        –ü–æ–∑–¥—Ä–∞–≤–∏,<br>
        <strong>–ï–∫–∏–ø—ä—Ç –Ω–∞ Barber Shop</strong>
    </p>

    <p style="font-size: 12px; color: #999; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e9ecef;">
        üìß –ó–∞ –≤—ä–ø—Ä–æ—Å–∏: <a href="mailto:contact@barber.com" style="color: #d4a024;">contact@barber.com</a><br>
        üìû –¢–µ–ª–µ—Ñ–æ–Ω: +359 XXX XXX XXX
    </p>
{% endblock %}
