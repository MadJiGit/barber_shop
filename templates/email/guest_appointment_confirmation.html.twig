{% extends 'email/base.html.twig' %}

{% block body %}
    <h1 style="color: #ff9800; margin-bottom: 20px;">{{ 'guest_confirm.title' | trans }}</h1>

    <p style="font-size: 16px; line-height: 1.6; color: #333;">
        {{ 'guest_confirm.hello' | trans }}{{ client.firstName ? ', ' ~ client.firstName : '' }},
    </p>

    <p style="font-size: 16px; line-height: 1.6; color: #333;">
        {{ 'guest_confirm.request' | trans|raw }}
    </p>

    <div style="background-color: #fff3cd; border-left: 4px solid #ff9800; padding: 15px; margin: 25px 0;">
        <p style="margin: 0; color: #856404; font-size: 14px; line-height: 1.6;">
            <strong>‚ö†Ô∏è {{ 'guest_confirm.important' | trans }}:</strong> {{ 'guest_confirm.not_confirmed' | trans }}
        </p>
    </div>

    <div style="background-color: #f8f9fa; border-radius: 8px; padding: 20px; margin: 25px 0;">
        <h3 style="color: #d4a024; margin-top: 0; margin-bottom: 15px; border-bottom: 2px solid #d4a024; padding-bottom: 10px;">
            {{ 'guest_confirm.details_title' | trans }}
        </h3>

        <table style="width: 100%; font-size: 15px; line-height: 1.8;">
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'guest_confirm.date' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.date|date('d.m.Y') }} ({% set dayNames = {0: ('appointment.days.sun'|trans), 1: ('appointment.days.mon'|trans), 2: ('appointment.days.tue'|trans), 3: ('appointment.days.wed'|trans), 4: ('appointment.days.thu'|trans), 5: ('appointment.days.fri'|trans), 6: ('appointment.days.sat'|trans)} %}{{ dayNames[appointment.date|date('w')] }})</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'guest_confirm.time' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.date|date('H:i') }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'guest_confirm.barber' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ barber.firstName }} {{ barber.lastName }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'guest_confirm.service' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.procedureType.type }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'guest_confirm.duration' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.duration }} {{ 'guest_confirm.minutes' | trans }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'guest_confirm.price' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0; font-weight: bold;">{{ barber.isBarberJunior ? appointment.procedureType.priceJunior : appointment.procedureType.priceMaster }} {{ 'guest_confirm.currency' | trans }}</td>
            </tr>
        </table>
    </div>

    <div style="text-align: center; margin: 30px 0;">
        <a href="{{ confirmUrl }}"
           style="display: inline-block; padding: 15px 40px; background-color: #28a745; color: #ffffff; text-decoration: none; border-radius: 5px; font-size: 16px; font-weight: bold; margin-bottom: 10px;">
            {{ 'guest_confirm.button_confirm' | trans }}
        </a>
    </div>

    <div style="background-color: #f0f8ff; border-radius: 8px; padding: 20px; margin: 25px 0; text-align: center;">
        <h4 style="color: #0066cc; margin-top: 0; margin-bottom: 15px;">
            {{ 'guest_confirm.add_to_calendar' | trans }}
        </h4>
        <p style="font-size: 14px; color: #666; margin-bottom: 15px;">
            {{ 'guest_confirm.add_to_calendar_text' | trans }}
        </p>
        <div style="display: inline-block;">
            <a href="{{ googleCalendarUrl }}"
               target="_blank"
               style="display: inline-block; padding: 12px 25px; background-color: #4285f4; color: #ffffff; text-decoration: none; border-radius: 5px; font-size: 14px; font-weight: bold; margin: 5px;">
                Google Calendar
            </a>
            <a href="{{ url('appointment_download_ics', {id: appointment.id}) }}"
               style="display: inline-block; padding: 12px 25px; background-color: #4285f4; color: #ffffff; text-decoration: none; border-radius: 5px; font-size: 14px; font-weight: bold; margin: 5px;">
                Outlook / Apple Calendar
            </a>
        </div>
    </div>

    <div style="background-color: #f8f9fa; padding: 15px; margin: 25px 0; border-radius: 5px;">
        <p style="margin: 0; font-size: 14px; color: #666; text-align: center;">
            {{ 'guest_confirm.cancel_text' | trans|raw }}
        </p>
    </div>

    <div style="background-color: #d1ecf1; border-left: 4px solid #0c5460; padding: 15px; margin: 25px 0;">
        <p style="margin: 0; color: #0c5460; font-size: 14px; line-height: 1.6;">
            <strong>üí° {{ 'guest_confirm.tip' | trans }}:</strong> {{ 'guest_confirm.tip_desc' | trans|raw }}
            <a href="{{ url('app_register') }}" style="color: #0c5460; font-weight: bold; text-decoration: underline;"><strong> {{ 'guest_confirm.tip_here' | trans }}:</strong></a>
        </p>
    </div>

    <p style="font-size: 14px; line-height: 1.6; color: #666; margin-top: 30px;">
        {{ 'guest_confirm.see_you' | trans }}
    </p>

    <p style="font-size: 14px; line-height: 1.6; color: #666; margin-top: 10px;">
        {{ 'guest_confirm.regards' | trans }}<br>
        <strong>{{ 'guest_confirm.team' | trans }}</strong>
    </p>

    <p style="font-size: 14px; color: #666;">
        üìß <a href="mailto:{{ contact_email }}" style="color: #d4a024;">{{ contact_email }}</a><br>
        üìû <a href="tel:{{ contact_phone|replace({' ': ''}) }}" style="color: #d4a024;">{{ contact_phone }}</a>
        <span style="font-size: 11px; color: #bbb;">{{ 'guest_confirm.validity' | trans }}</span>
    </p>
{% endblock %}
