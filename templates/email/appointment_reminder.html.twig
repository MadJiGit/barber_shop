{% extends 'email/base.html.twig' %}

{% block body %}
    <h1 style="color: #ffc107; margin-bottom: 20px;">{{ 'reminder.title' | trans }}</h1>

    <p style="font-size: 16px; line-height: 1.6; color: #333;">
        {{ 'reminder.hello' | trans }}{{ client.firstName ? ', ' ~ client.firstName : '' }},
    </p>

    <p style="font-size: 16px; line-height: 1.6; color: #333;">
        {{ 'reminder.message' | trans|raw }}
    </p>

    <div style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 20px; margin: 25px 0; border-radius: 5px;">
        <h3 style="color: #856404; margin-top: 0; margin-bottom: 15px;">
            {{ 'reminder.dont_forget' | trans }}
        </h3>
        <p style="margin: 0; color: #856404; font-size: 18px; font-weight: bold;">
            {{ 'reminder.appointment_time' | trans }} {{ appointment.date|date('H:i') }}
        </p>
    </div>

    <div style="background-color: #f8f9fa; border-radius: 8px; padding: 20px; margin: 25px 0;">
        <h3 style="color: #d4a024; margin-top: 0; margin-bottom: 15px; border-bottom: 2px solid #d4a024; padding-bottom: 10px;">
            {{ 'reminder.details_title' | trans }}
        </h3>

        <table style="width: 100%; font-size: 15px; line-height: 1.8;">
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'reminder.date' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0; font-weight: bold;">{{ appointment.date|date('d.m.Y') }} ({% set dayNames = {0: '–ù–µ–¥–µ–ª—è', 1: '–ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫', 2: '–í—Ç–æ—Ä–Ω–∏–∫', 3: '–°—Ä—è–¥–∞', 4: '–ß–µ—Ç–≤—ä—Ä—Ç—ä–∫', 5: '–ü–µ—Ç—ä–∫', 6: '–°—ä–±–æ—Ç–∞'} %}{{ dayNames[appointment.date|date('w')] }})</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'reminder.time' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0; font-weight: bold; font-size: 18px; color: #d4a024;">{{ appointment.date|date('H:i') }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'reminder.barber' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ barber.firstName }} {{ barber.lastName }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'reminder.service' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.procedureType.type }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'reminder.duration' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0;">{{ appointment.duration }} {{ 'reminder.minutes' | trans }}</td>
            </tr>
            <tr>
                <td style="color: #666; padding: 5px 0;"><strong>{{ 'reminder.price' | trans }}:</strong></td>
                <td style="color: #333; padding: 5px 0; font-weight: bold;">{{ barber.isBarberJunior ? appointment.procedureType.priceJunior : appointment.procedureType.priceMaster }} {{ 'reminder.currency' | trans }}</td>
            </tr>
        </table>
    </div>

    <div style="background-color: #d4edda; border-left: 4px solid #28a745; padding: 15px; margin: 25px 0;">
        <p style="margin: 0; color: #155724; font-size: 14px; line-height: 1.6;">
            <strong>‚úì {{ 'reminder.preparation_title' | trans }}:</strong> {{ 'reminder.preparation_text' | trans }}
        </p>
    </div>

    <div style="background-color: #f8d7da; border-left: 4px solid #dc3545; padding: 15px; margin: 25px 0;">
        <p style="margin: 0 0 10px 0; color: #721c24; font-size: 14px; line-height: 1.6;">
            <strong>‚ö†Ô∏è {{ 'reminder.cancel_header' | trans }}?</strong>
        </p>
        <p style="margin: 0; color: #721c24; font-size: 14px;">
            {{ 'reminder.cancel_text' | trans }}
        </p>
    </div>

    <div style="text-align: center; margin: 30px 0;">
        <a href="{{ url('profile_edit', {id: client.id}) }}"
           style="display: inline-block; padding: 15px 40px; background-color: #d4a024; color: #ffffff; text-decoration: none; border-radius: 5px; font-size: 16px; font-weight: bold;">
            {{ 'reminder.view_appointment' | trans }}
        </a>
    </div>

    <p style="font-size: 14px; line-height: 1.6; color: #666; margin-top: 30px;">
        {{ 'reminder.see_you' | trans }}
    </p>

    <p style="font-size: 14px; line-height: 1.6; color: #666; margin-top: 10px;">
        {{ 'reminder.regards' | trans }}<br>
        <strong>{{ 'reminder.team' | trans }}</strong>
    </p>

    <p style="font-size: 12px; color: #999; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e9ecef;">
        üìß –ó–∞ –≤—ä–ø—Ä–æ—Å–∏: <a href="mailto:contact@barber.com" style="color: #d4a024;">contact@barber.com</a><br>
        üìû –¢–µ–ª–µ—Ñ–æ–Ω: +359 XXX XXX XXX
    </p>

    <p style="font-size: 11px; color: #aaa; margin-top: 15px; text-align: center;">
        {{ 'reminder.auto_notice' | trans }}
    </p>
{% endblock %}
